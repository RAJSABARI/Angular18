<div class="form-container">
  <h2>REGISTER FORM</h2>
  <form [formGroup]="studentForm" (ngSubmit)="submitStudent()">
    <!-- Roll Number Field -->
    <div class="form-group">
      <label for="rollnumber">ROLL NUMBER</label>
      <input type="text" id="rollnumber" formControlName="rollno" placeholder="Enter Roll Number" appNumberValidationDirectiveDirective   />
      <div *ngIf="studentForm.get('rollno')?.invalid && studentForm.get('rollno')?.touched">
        <small style="color: red;">EX:IT&#64;11</small>
      </div>
    </div>

    <!-- Name Field -->
    <div class="form-group">
      <label for="name">NAME</label>
      <input type="text" id="name" formControlName="name" placeholder="Enter your name" required />
      <div *ngIf="studentForm.get('name')?.invalid && studentForm.get('name')?.touched">
        <small style="color: red;">*Name is required</small>
      </div>
    </div>

    <!-- Mark Field -->
    <div class="form-group">
      <label for="mark">MARK</label>
      <input type="number" id="mark" formControlName="mark" placeholder="Enter your Mark" required />
      <div *ngIf="studentForm.get('mark')?.invalid && studentForm.get('mark')?.touched">
        <small style="color: red;">*Mark is required and should be a number</small>
      </div>
    </div>

    <!-- Gender Field -->
    <div>
      <label>
        <input type="radio" formControlName="gender" value="Male" required /> MALE
      </label>
      <label>
        <input type="radio" formControlName="gender" value="Female" required /> FEMALE
      </label>
      <div *ngIf="studentForm.get('gender')?.invalid && studentForm.get('gender')?.touched">
        <small style="color: red;">*Gender is required</small>
      </div>
    </div>

    <!-- Age Field -->
    <div class="form-group">
      <label for="age">AGE</label>
      <select id="age" formControlName="age" required>
        <option value="" disabled>Select Age</option>
        <option value="15">15</option>
        <option value="16">16</option>
        <option value="17">17</option>
        <option value="18">18</option>
      </select>
      <div *ngIf="studentForm.get('age')?.invalid && studentForm.get('age')?.touched">
        <small style="color: red;">*Age is required</small>
      </div>
    </div>

    <!-- Laptop Section -->
    <input type="checkbox" formControlName="addLaptop" (change)="toggleLaptopSection($event)"> ADD LAPTOP

    <div *ngIf="showme">
      <label style="color: black;">LAPTOP DETAILS</label>
      <div formArrayName="laptops">
        <div *ngFor="let laptop of laptops.controls; let i = index" [formGroupName]="i" class="form-group">
          <input type="text" formControlName="lname" placeholder="Enter Laptop Name" required />
          <div *ngIf="laptop.get('lname')?.invalid && laptop.get('lname')?.touched">
            <small style="color: red;">*Laptop name is required</small>
          </div>
          <input type="text" formControlName="serialno" placeholder="Enter Serial Number" required />
          <div *ngIf="laptop.get('serialno')?.invalid && laptop.get('serialno')?.touched">
            <small style="color: red;">*Serial number is required</small>
          </div>
          <button (click)="removeLaptop(i)" type="button" class="remove-btn">-</button>
        </div>
      </div>
      <button (click)="addLaptop()" type="button">ADD LAPTOP</button>
    </div>

    <button type="submit" [disabled]="studentForm.invalid">SAVE</button>
  </form>
</div>
